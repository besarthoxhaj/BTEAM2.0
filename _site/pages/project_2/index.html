<!DOCTYPE html>
<html lang="en">
  
<head>
    <!-- META DATA -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <meta name="description" content="Treble theme - One Page Responsive Theme - Gridelicious.net">
    <title>Bteam FC project page and blog</title>

    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/images/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/images/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/images/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="/assets/images/ico/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="/assets/images/ico/favicon.png">
                                   
    <!-- STYLESHEETS -->
    <link rel="stylesheet" href="/assets/style/bootstrap.css"/>
    <link rel="stylesheet" href="/assets/style/local.css"/>
    
    <!-- GOOGLE WEB FONTS -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>
</head>
<body>
    <!-- NAVIGATION -->
    <nav class="fixed-top fixed-visable" id="navigation">
        <div class="container">
            <div class="row-fluid">
                <div class="span12 center">
                    <!-- LOGO -->
                    <a class="brand pull-left" href="/#page-welcome">
                        <img src="/assets/images/logo.png" alt="Treble">
                    </a>
                    <!-- END LOGO -->

                    <!-- MOBILE MENU BUTTON -->
                    <div class="mobile-menu" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </div>
                    <!-- END MOBILE MENU BUTTON -->
                    
                    <!-- MAIN MENU -->
                    <ul id="main-menu" class="nav-collapse collapse">
                        <li><a href="/#page-welcome">Home</a></li>
                        <li><a href="/#page-work">Work</a></li>
                        <li><a href="/#page-features">Features</a></li>
                        <li><a href="/#page-about">About</a></li>
                        <li><a href="/#page-blog">Blog</a></li>
                        <li><a href="/#page-contact">Contact</a></li>
                    </ul>
                    <!-- END MAIN MENU -->
                    
                    <!-- SOCIAL ICONS -->
                    <div class="social-icons hover-big pull-right">
                        <a href="#" class="sicon-facebook"><i>Facebook</i></a>
                        <a href="#" class="sicon-twitter"><i>Twitter</i></a>
                        <a href="#" class="sicon-linkedin"><i>LinkedIn</i></a>
                        <a href="#" class="sicon-youtube"><i>Youtube</i></a>
                        <a href="#" class="sicon-pinterest"><i>Pinterest</i></a>
                    </div>
                    <!-- END SOCIAL ICONS -->
                </div>
            </div>
        </div>
    </nav>
    <!-- END NAVIGATION -->
  
      <div class="pages page-blog-list" id="page-blog-list">
        <div class="container">
            <!-- Header -->
            <header>
                <h4 class="line-divider">Image tweets for Founders&Coders</h4>
            </header>
            <!-- End Header -->
         <div class="span5" style="background:#fcfcfa; border-style:groove; width:400; height:300;">
  <center>
    <h2>Latest from twitter</h2>
    <div id='tweets'></div>
  </center>
</div>

<div class="span6">
  <article>
This applet fetches images from the twitter API, live. The twitter API requires a bit of coaxing. Much of the work we did here went into understanding the concepts behind the functionality. For those that are interested, our server is hosted on Heroku.

<h6>Client side</h6>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#html</span>

<span class="o">&lt;</span><span class="n">center</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">h2</span><span class="o">&gt;</span><span class="no">Latest</span> <span class="n">from</span> <span class="n">twitter</span><span class="o">&lt;</span><span class="sr">/h2&gt;</span>
<span class="sr">  &lt;div id=&#39;tweets&#39;&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/center&gt;</span>

<span class="sr">#javascript</span>
<span class="sr">    </span>
<span class="sr">&lt;script src=&quot;http:/</span><span class="o">/</span><span class="n">code</span><span class="o">.</span><span class="n">jquery</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">jquery</span><span class="o">-</span><span class="mi">1</span><span class="o">.</span><span class="mi">10</span><span class="o">.</span><span class="mi">2</span><span class="o">.</span><span class="n">js</span><span class="s2">&quot;&gt;&lt;/script&gt;</span>
<span class="s2">&lt;script src=&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//</span><span class="n">code</span><span class="o">.</span><span class="n">jquery</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ui</span><span class="o">/</span><span class="mi">1</span><span class="o">.</span><span class="mi">10</span><span class="o">.</span><span class="mi">4</span><span class="o">/</span><span class="n">jquery</span><span class="o">-</span><span class="n">ui</span><span class="o">.</span><span class="n">js</span><span class="s2">&quot;&gt;&lt;/script&gt;</span>
<span class="s2">&lt;script&gt;</span>
<span class="s2">  $.ajax({</span>
<span class="s2">    url: &quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//o</span><span class="n">bscure</span><span class="o">-</span><span class="n">ridge</span><span class="o">-</span><span class="mi">8042</span><span class="o">.</span><span class="n">herokuapp</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="s2">&quot;,</span>
<span class="s2">    dataType: &quot;</span><span class="n">json</span><span class="s2">&quot;,</span>

<span class="s2">    success: function(data) {</span>
<span class="s2">      $.each(data.statuses, function () {</span>
<span class="s2">        $( &quot;</span><span class="c1">#tweets&quot; )</span>
        <span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="s1">&#39;img&#39;</span><span class="p">,</span> <span class="p">{</span>
          <span class="ss">src</span><span class="p">:</span> <span class="n">this</span><span class="o">[</span><span class="s1">&#39;&lt;img&gt;&#39;</span><span class="o">]</span><span class="p">,</span>
          <span class="ss">style</span><span class="p">:</span> <span class="s2">&quot;padding-top:10px&quot;</span>
        <span class="p">}));</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="o">&lt;</span><span class="sr">/script&gt;</span></code></pre></div>
    
<h6>Server side</h6>
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">index</span><span class="o">.</span><span class="n">js</span> <span class="o">=============================</span>

<span class="n">var</span> <span class="n">http</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">),</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">),</span>
    <span class="n">url</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">),</span>
    <span class="n">twitter</span> <span class="o">=</span> <span class="nb">require</span> <span class="p">(</span><span class="s1">&#39;./module.js&#39;</span><span class="p">);</span>

<span class="n">http</span><span class="o">.</span><span class="n">createServer</span><span class="p">(</span><span class="n">function</span> <span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">response</span><span class="p">){</span>
  <span class="sr">//</span><span class="n">function</span> <span class="n">called</span> <span class="n">from</span> <span class="n">module</span><span class="o">.</span><span class="n">js</span>
	<span class="n">twitter</span><span class="p">(</span><span class="s1">&#39;foundersandcoders&#39;</span><span class="p">,</span> <span class="n">function</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">res</span><span class="p">){</span>
		<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>

		<span class="n">fs</span><span class="o">.</span><span class="n">readFile</span><span class="p">(</span><span class="s1">&#39;data.json&#39;</span><span class="p">,</span> <span class="n">function</span> <span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">response</span><span class="o">.</span><span class="n">writeHead</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;text/json&quot;</span><span class="p">,</span> 
                               <span class="s2">&quot;Access-Control-Allow-Origin&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">})</span>
      <span class="n">response</span><span class="o">.</span><span class="n">end</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="p">});</span>
	<span class="p">});</span>
<span class="p">})</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">PORT</span><span class="p">);</span> <span class="sr">//</span><span class="mi">8080</span> <span class="ow">or</span> <span class="n">process</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">PORT</span>
    
<span class="n">module</span><span class="o">.</span><span class="n">js</span> <span class="o">============================</span>
    
<span class="n">var</span> <span class="no">Twit</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;twit&#39;</span><span class="p">),</span>
    <span class="n">fs</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">),</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;./api_keys&#39;</span><span class="p">);</span>

<span class="n">var</span> <span class="n">T</span> <span class="o">=</span> <span class="kp">new</span> <span class="no">Twit</span><span class="p">(</span><span class="n">keys</span><span class="p">);</span>

<span class="n">var</span> <span class="n">withMedia</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">item</span><span class="p">){</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;RT&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">item</span><span class="o">.</span><span class="n">entities</span><span class="o">.</span><span class="n">media</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="n">var</span> <span class="n">newOrder</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">item</span><span class="p">){</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="nb">name</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="ss">text</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
    <span class="ss">img</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">entities</span><span class="o">.</span><span class="n">media</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="n">media_url</span><span class="p">,</span>
    <span class="ss">data</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">created_at</span><span class="p">,</span>
    <span class="ss">location</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">location</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="n">module</span><span class="o">.</span><span class="n">exports</span> <span class="o">=</span> <span class="n">function</span> <span class="p">(</span><span class="n">search_name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">T</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;search/tweets&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="ss">q</span><span class="p">:</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">search_name</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span> <span class="p">},</span> 

<span class="n">function</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">callback</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">null</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">var</span> <span class="n">jsonData</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">statuses</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">statuses</span>
                                 <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">withMedia</span><span class="p">)</span>
                                 <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">newOrder</span><span class="p">)};</span>
    
      <span class="n">var</span> <span class="n">storeName</span> <span class="o">=</span> <span class="s1">&#39;data.json&#39;</span><span class="p">;</span>
    
    <span class="n">fs</span><span class="o">.</span><span class="n">writeFile</span><span class="p">(</span><span class="n">storeName</span><span class="p">,</span> <span class="no">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">null</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">function</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">err</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">&quot;JSON saved to &quot;</span> <span class="o">+</span> <span class="n">storeName</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="n">callback</span><span class="p">(</span><span class="n">null</span><span class="p">,</span> <span class="s2">&quot;Process completed...&quot;</span><span class="p">)</span>
    <span class="p">});</span>
    <span class="p">};</span>
 <span class="p">});</span>
<span class="p">};</span></code></pre></div>
    
  </article>
</div>

<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
<script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
<script>

  $.ajax({
    url: "http://obscure-ridge-8042.herokuapp.com/",
    dataType: "json",

    success: function(data) {
      $.each(data.statuses, function () {
        $( "#tweets" )
        .append($('<img>', {
          src: this['img'],
          style: "padding-top:10px"
        }));
      });
    }
  });
</script>   
        </div>
     </div>
</body>
</html>